@import "{retronator:retronator-identity}/style/style.import"

.pixelartacademy-pixelpad-apps-studyplan-goal
  display block
  position relative
  z-index 0
  border 1rem solid atariCyan(5)
  background atariCyan(0)
  cursor grab

  &:hover
    z-index 1

  > .name
    padding 5rem
    text-align center
    cursor pointer
    color atariCyan(5)
    study-plan()

  .tasks-map
    position absolute
    z-index 2
    visibility hidden
    cursor default

    .tiles
      position relative

      .tile
        position absolute
        width 13rem
        height 5rem

        &.blueprint
        &.sidewalk
        &.road
        &.ground
        &.building
          .blueprint
            background-position -16rem -10rem

        &.edge.left .blueprint
          background-position -1rem -10rem

        &.edge.right .blueprint
          background-position -31rem -10rem

        &.edge.up .blueprint
          background-position -16rem 0

        &.edge.down .blueprint
          background-position -16rem -20rem

        &.edge.left.up .blueprint
          background-position -1rem 0

        &.edge.left.down .blueprint
          background-position -1rem -20rem

        &.edge.right.up .blueprint
          background-position -31rem 0

        &.edge.right.down .blueprint
          background-position -31rem -20rem

        &.sidewalk .sidewalk
          background-position -31rem -29rem

        &.road.up .road
        &.road.down .road
          background-position -1rem -30rem

        &.road.left .road
        &.road.right .road
          background-position -16rem -30rem

        &.road.down.right .road
          background-position -1rem -40rem

        &.road.down.left .road
          background-position -16rem -40rem

        &.road.up.right .road
          background-position -1rem -50rem

        &.road.up.left .road
          background-position -16rem -50rem

        &.road.left.right.up .road
          background-position -1rem -60rem

        &.road.up.down.right .road
          background-position -16rem -60rem

        &.road.left.right.down .road
          background-position -1rem -70rem

        &.road.up.down.left .road
          background-position -16rem -70rem

        &.road.left.right.up.down .road
          background-position -1rem -80rem

        .blueprint
        .sidewalk
        .road
          absolute-cover()
          background image('/pixelartacademy/pixelpad/apps/studyplan/blueprint-tiles.png') 15rem 5rem / 90rem 85rem

        .blueprint
          z-index 0

        .sidewalk
          z-index 1
          top -1rem

        .road
          z-index 2

    .complete-flag
      position absolute
      z-index 2

      .blueprint
        position absolute
        left 5rem
        top -6rem
        width 6rem
        height 11rem
        background image('/pixelartacademy/pixelpad/apps/studyplan/blueprint-tiles.png') -56rem -24rem / 90rem 85rem

    .tasks
      list-style none
      padding 0
      margin 0

      .task
        position absolute
        z-index 3

  .provided-interests
    position absolute
    visibility hidden
    z-index 3
    top 5rem
    right -4rem
    width 9rem
    height 9rem
    padding 0.5rem 0 0 2.5rem
    background atariCyan(5)
    color atariCyan(0)
    cursor text

    &:hover
      background atariCyan(7)

      .list-area
        visibility visible
        opacity 1

    &::before
      content '+'

    .list-area
      position absolute
      z-index 4
      width 80rem
      left 8rem
      bottom 10rem
      padding 2rem
      visibility hidden
      opacity 0
      checkout()
      color atariGray(6)
      background atariCyan(1)
      transition all 0.2s
      pointer-events none

      .list
        list-style none
        padding 0
        margin 0

        .interest
          position relative
          margin-bottom 1rem
          padding-left 6rem
          background atariCyan(1)

          &::before
            content '+'
            position absolute
            top 1rem
            left 0

          &:last-child
            margin-bottom 0

  .required-interests
  .optional-interests
    visibility hidden

    .label
      position absolute
      left 6rem
      color atariCyan(5)

    .list
      list-style none

      .interest
        position absolute
        left 9rem
        right 6rem
        cursor pointer
        color atariGray(6)

        &.valid-target
          .connector
            background atariGray(7)

        .connection-target
          position absolute
          left -20rem
          top -2rem
          right 0
          bottom 0

        .connector
          display block
          position absolute
          z-index 1
          top 0
          left -14rem
          width 9rem
          height 9rem
          padding 0.5rem 0 0 2.5rem
          background atariCyan(5)
          color atariCyan(0)

          &::before
            content 'â†’'

        &:hover:not(.invalid-target):not(.valid-target)
          color atariGray(7)

          .connector
            background atariCyan(7)

  &.expanded
    .tasks-map
    .provided-interests
    .required-interests
    .optional-interests
      visibility visible
