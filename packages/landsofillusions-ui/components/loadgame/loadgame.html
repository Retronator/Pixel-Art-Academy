<template name="LandsOfIllusions.Components.LoadGame">
  {{#unless deactivated}}
    <div class="landsofillusions-components-loadgame landsofillusions-components-savesystem {{editEnabledClass}}">
      {{#if showBackButton}}
        {{> LandsOfIllusions.Components.BackButton args backButtonCallback}}
      {{/if}}
      {{#LandsOfIllusions.Components.Overlay}}
        {{#unless autoLoadedProfileId}}
          <div class="title">
            {{#if editEnabled}}
              Choose a save game to edit
            {{else}}
              Choose a save game to load
            {{/if}}
          </div>
          <ul class="profiles" {{style profilesStyle}}>
            {{#each profiles}}
              <li class="profile {{profileActiveClass}}" data-id="{{_id}}">
                <div class="floppy">
                  <div class="shutter"></div>
                  <div class="label">{{profileName}}</div>
                </div>
              </li>
            {{/each}}
          </ul>
          <div class="controls">
            <button class="previous-button action-button {{previousButtonVisibleClass}}" {{previousButtonDisabledAttribute}}>←</button>
            {{#if editEnabled}}
              {{#if editingProfileId}}
                <button class="remove-button action-button">Remove</button>
              {{/if}}
            {{else}}
              <button class="edit-button action-button {{editButtonVisibleClass}}">Edit</button>
            {{/if}}
            <button class="next-button action-button {{nextButtonVisibleClass}}" {{nextButtonDisabledAttribute}}>→</button>
          </div>
        {{/unless}}
        <div class="loading {{loadingVisibleClass}}">
          <div class="loading-text {{loadingTextVisibleClass}}">
            Loading …
            {{#if showProfileLoadingPercentage}}
              {{profileLoadingPercentage}}%
            {{/if}}
          </div>
        </div>
      {{/LandsOfIllusions.Components.Overlay}}
    </div>
  {{/unless}}
</template>
